# Analysis History and Summary - Visual Reference

## Card Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analysis History and Summary                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚  Status: SUCCESS  â”‚  Date: Oct 20, 2025  â”‚  Time: 250ms â”‚   â”‚
â”‚ â”‚  Total Items: 8 (5 AI + 3 Manual)                        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚ Anomalies                                                       â”‚
â”‚                                                                 â”‚
â”‚ â— AI-Detected Anomalies                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ðŸ”µ High Severity                         [AI]    â”‚          â”‚
â”‚ â”‚ Overheating detected on transformer coil         â”‚          â”‚
â”‚ â”‚                          Confidence: 92.5%       â”‚          â”‚
â”‚ â”‚                          Area: 1,245 pxÂ²         â”‚          â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚          â”‚
â”‚ â”‚ Type: Detected from AI                           â”‚          â”‚
â”‚ â”‚ Generated: Oct 20, 2025, 10:30 AM                â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ â— Verified AI Detections                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ðŸŸ¢ Faulty                         [Verified âœ“]   â”‚          â”‚
â”‚ â”‚ Risk: Point fault â€¢ Hot spot confirmed           â”‚          â”‚
â”‚ â”‚                          Confidence: 88%         â”‚          â”‚
â”‚ â”‚                          Image: Result           â”‚          â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚          â”‚
â”‚ â”‚ Type: AI-detected, verified as correct          â”‚          â”‚
â”‚ â”‚ Verified by: hasitha@gmail.com                   â”‚          â”‚
â”‚ â”‚ Verified: Oct 20, 2025, 11:15 AM                 â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ â— Modified AI Detections                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ðŸŸ  Potentially Faulty  [Modified] [Verified]    â”‚          â”‚
â”‚ â”‚ Risk: Full wire overload â€¢ Corrected severity    â”‚          â”‚
â”‚ â”‚                          Confidence: 75%         â”‚          â”‚
â”‚ â”‚                          Image: Thermal          â”‚          â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚          â”‚
â”‚ â”‚ Type: Originally AI-detected, modified by user   â”‚          â”‚
â”‚ â”‚ Last modified by: hasitha@gmail.com              â”‚          â”‚
â”‚ â”‚ Modified: Oct 20, 2025, 11:45 AM                 â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ â— Manual Annotations                                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ðŸŸ£ Normal                            [Manual]    â”‚          â”‚
â”‚ â”‚ Risk: Normal â€¢ User added safe zone              â”‚          â”‚
â”‚ â”‚                          Confidence: 100%        â”‚          â”‚
â”‚ â”‚                          Image: Result           â”‚          â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚          â”‚
â”‚ â”‚ Type: Manually annotated by user                 â”‚          â”‚
â”‚ â”‚ Added by: hasitha@gmail.com                      â”‚          â”‚
â”‚ â”‚ Created: Oct 20, 2025, 12:00 PM                  â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚ [Scrollable content - max 400px height]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Legend

| Category | Color | Border | Background | Bullet | Use Case |
|----------|-------|--------|------------|--------|----------|
| **AI-Detected** | Blue | `border-blue-500` | `bg-blue-50` | ðŸ”µ | Original AI detections, untouched |
| **Verified AI** | Green | `border-green-500` | `bg-green-50` | ðŸŸ¢ | AI detections user confirmed correct |
| **Modified AI** | Orange | `border-orange-500` | `bg-orange-50` | ðŸŸ  | AI detections user corrected |
| **Manual** | Purple | `border-purple-500` | `bg-purple-50` | ðŸŸ£ | Completely user-created |

## Badge System

### Badge Types
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI    â”‚  â† Secondary badge (gray)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verified âœ“  â”‚  â† Success badge (green) - AI verified as correct
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Modified â”‚  â† Outline badge (orange border) - AI modified by user
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Manual  â”‚  â† Outline badge (purple border) - User created
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Badge Combinations
- **AI only**: Single "AI" badge
- **Verified AI**: Single "Verified âœ“" badge
- **Modified AI (verified)**: Both "Modified" + "Verified âœ“"
- **Manual**: Single "Manual" badge

## Information Hierarchy

### Priority 1: Visual Category
- Left border (4px, colored)
- Background color (light tint)
- Section header with bullet

### Priority 2: Anomaly Status
- Bold anomaly state or severity
- Badge(s) indicating type/status

### Priority 3: Description
- Risk type and details
- AI reasoning (for AI detections)

### Priority 4: Metrics
- Confidence score (%)
- Area (for AI) or Image type (for user annotations)

### Priority 5: Provenance
- Divider line
- Type description
- User attribution
- Timestamp

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Analysis â”‚
â”‚   Completes  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                     â”‚
       v                                     v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Detectionsâ”‚                    â”‚ User Opens     â”‚
â”‚ (Blue Cards) â”‚                    â”‚ Annotation Toolâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                         â”‚
                    v                                         v
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ User Verifies â”‚                        â”‚ User Draws  â”‚
            â”‚ AI Detection  â”‚                        â”‚  New Box    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                       â”‚
                    v                                       v
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Verified AI  â”‚                        â”‚   Manual    â”‚
            â”‚ (Green Cards) â”‚                        â”‚(Purple Cards)â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ User modifies
                    v
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Modified AI  â”‚
            â”‚(Orange Cards) â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Responsive Behavior

### Desktop (> 768px)
- 2-column grid for summary stats
- Full card width
- All badges visible inline

### Mobile (< 768px)
- Single column layout
- Stats stack vertically
- Badges may wrap
- Scrollable content maintained

## Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚              No anomalies detected              â”‚
â”‚              or annotated yet.                  â”‚
â”‚                                                 â”‚
â”‚      Use the Anomaly Annotation Tool to        â”‚
â”‚           add manual annotations.               â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Scroll Behavior

- **Container**: `max-h-[400px] overflow-y-auto`
- **Smooth scroll**: Native browser scrolling
- **Scroll indicator**: Browser default scrollbar
- **Sections**: Space-y-4 between categories
- **Cards**: Space-y-2 between individual anomalies

## Typography Scale

| Element | Size | Weight | Color |
|---------|------|--------|-------|
| Card Title | `text-lg` | `font-bold` | Default |
| Section Header | `text-sm` | `font-medium` | Category color (blue-700, etc.) |
| Anomaly State | `text-base` | `font-semibold` | Category color (dark) |
| Description | `text-sm` | `font-normal` | `text-gray-700` |
| Metrics | `text-xs` | `font-normal` | `text-gray-600` |
| Provenance | `text-xs` | `font-normal` | `text-gray-500` |
| User Attribution | `text-xs` | `font-medium` | `text-gray-500` |

## Interaction States

### Hover (Future Enhancement)
- Could add hover effect on cards
- Show actions (edit, delete, view details)
- Highlight related box on image

### Click (Future Enhancement)
- Navigate to annotation in modal
- Expand for more details
- Show full history timeline

## Animation Opportunities

### Current
- None (static rendering)

### Future Enhancements
- Fade-in new annotations
- Slide transition between categories
- Pulse effect on newly verified items
- Smooth expand/collapse for details

## Accessibility Considerations

### Color Independence
- Text labels supplement colors ("Type: Detected from AI")
- Badges provide semantic meaning beyond color
- Border patterns distinguish categories

### Screen Readers
- Semantic heading structure (h4 â†’ h5)
- Descriptive text for all metadata
- Badge text is readable

### Keyboard Navigation
- Scrollable with keyboard (arrow keys, page up/down)
- Future: Focus management for interactive elements

## Integration Points

### With Annotation Modal
- Receives real-time updates via custom events
- Syncs immediately when annotations saved
- Reflects all modal changes

### With Export Function
- All displayed data included in JSON export
- Metadata preserved for backend submission
- Audit trail complete

### With Chat Assistant
- Chat can reference specific anomalies
- Context includes all annotation history
- User can ask about modifications

## Performance Notes

- **Rendering**: All categories render conditionally
- **Filtering**: Array.filter() runs on each render
- **Optimization**: Could memoize filtered arrays if performance issue
- **Scroll**: Native overflow, no virtual scrolling needed unless 100+ items

## Testing Scenarios

1. **Empty state**: No AI results, no user annotations
2. **AI only**: 5 AI detections, no user interaction
3. **Mixed**: 3 AI, 2 verified, 1 modified, 2 manual
4. **Many items**: 20+ annotations, test scrolling
5. **Long text**: Test description overflow
6. **Timestamps**: Verify date formatting
7. **User emails**: Test various email formats
